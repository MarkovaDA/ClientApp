<app-header *ngIf="isFetched" [profile]="profile"></app-header>
<div class="container body-content">
  <div class="row">
    <div class="col-md-8">
      <div class="alert alert-info" *ngIf="isSuccessRegist">
        Регистрация прошла успешно
      </div>
      <div class="alert alert-danger" *ngIf="errorMessage.length > 0">
        {{this.errorMessage}}
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-8">
      <form class="form-horizontal" (ngSubmit)="onLogin()" #registForm="ngForm">
        <div class="form-group">
          <label class="col-md-3 control-label" for="inn">ИНН:</label>
          <div class="col-md-9">
            <div class="input-group">
              <input type="text" class="form-control" id="inn" required name="inn" [(ngModel)] = "contragent.inn"
                     #inn="ngModel" [class.alert-danger]="!(inn.valid || inn.pristine)">
              <span class="input-group-btn">
                <button class="btn btn-default" type="button" (click)="onSearch()">поиск</button>
              </span>
            </div>
          </div>
        </div>

        <div class="form-group">
          <label class="col-md-3 control-label" for="title">Название:</label>
          <div class="col-md-9">
            <input type="text" class="form-control" id="title" name="title" [(ngModel)] = "contragent.title" required [placeholder]="!isCompanyFound ? notFoundMessage : ''"
                   #title="ngModel" [disabled]="isCompanyFound" [class.alert-danger]="!(title.valid || title.pristine)">
          </div>
        </div>

        <div class="form-group">
          <label class="col-md-3 control-label" for="user-name">Имя пользователя:</label>
          <div class="col-md-9">
            <input type="text" class="form-control" id="user-name" name="username" [(ngModel)] = "contragent.username" required
                   #username="ngModel" [class.alert-danger]="!(username.valid || username.pristine)">
          </div>
        </div>

        <div class="form-group">
          <label class="col-md-3 control-label" for="email">Email:</label>
          <div class="col-md-9">
            <input type="text" class="form-control" id="email" name="email" [(ngModel)] = "contragent.email" required
                   #email="ngModel" [class.alert-danger]="!(email.valid || email.pristine)">
          </div>
        </div>

        <div class="form-group">
          <label class="col-md-3 control-label" for="password">Пароль:</label>
          <div class="col-md-9">
            <input type="text" class="form-control" id="password" type="password" name="password" [(ngModel)] = "contragent.password" required
                   #password="ngModel" [class.alert-danger]="!(password.valid || password.pristine)">
          </div>
        </div>

        <div class="form-group">
          <div class="col-md-offset-3 col-md-9">
            <button type="submit" class="btn btn-default" [disabled]="!registForm.form.valid">регистрация</button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
